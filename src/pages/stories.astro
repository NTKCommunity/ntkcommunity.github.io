---
import BaseLayout from "../layouts/BaseLayout.astro";

const stories = [
  {
    id: 1,
    title: "Story 1",
    author: "Demo User",
    role: "Participant",
    date: "2023-01-15",
    excerpt: "This is a sample story description about an amazing experience with our community.",
    image: "/assets/images/story1.jpg",
    category: "featured",
    delay: 0
  },
  {
    id: 2,
    title: "Story 2",
    author: "Demo User",
    role: "Member",
    date: "2023-02-20",
    excerpt: "Another inspiring story about personal growth through our programs.",
    image: "/assets/images/story2.jpg",
    category: "regular",
    delay: 100
  },
  {
    id: 3,
    title: "Story 3",
    author: "Demo User",
    role: "Volunteer",
    date: "2023-03-10",
    excerpt: "How volunteering changed my perspective on technology and community.",
    image: "/assets/images/story3.jpg",
    category: "regular",
    delay: 200
  },
  {
    id: 4,
    title: "Story 4",
    author: "Demo User",
    role: "Alumni",
    date: "2023-04-05",
    excerpt: "From club member to industry professional - my journey.",
    image: "/assets/images/story4.jpg",
    category: "regular",
    delay: 300
  },
];
---

<BaseLayout>
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 md:px-10">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 animate-fade-in-up">
        Our <span class="text-blue-600 animate-tech-spin">Stories</span>
      </h2>

      <!-- Featured Story -->
      <div class="mb-16 animate-fade-in-up">
        {stories.filter(story => story.category === 'featured').map((story) => (
          <div class="relative group">
            <div class="absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl shadow-2xl transform group-hover:-rotate-1 transition-all duration-500"></div>
            
            <div class="relative bg-white rounded-2xl shadow-lg overflow-hidden transform group-hover:-translate-y-2 transition-all duration-500">
              <div class="md:flex">
                <div class="md:w-1/2 h-64 md:h-auto overflow-hidden">
                  <div class="w-full h-full bg-gray-200 flex items-center justify-center">
                    <span class="text-gray-500">Story Image</span>
                  </div>
                </div>
                <div class="md:w-1/2 p-8 md:p-10">
                  <span class="inline-block bg-blue-100 text-blue-600 text-sm font-medium px-3 py-1 rounded-full mb-4">
                    Featured Story
                  </span>
                  <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors">
                    {story.title}
                  </h3>
                  <div class="flex items-center mb-4">
                    <div class="mr-4">
                      <p class="font-medium text-gray-800">{story.author}</p>
                      <p class="text-sm text-gray-600">{story.role}</p>
                    </div>
                    <span class="text-gray-400">|</span>
                    <p class="ml-4 text-gray-600">
                      {new Date(story.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
                    </p>
                  </div>
                  <p class="text-gray-700 mb-6">{story.excerpt}</p>
                  <a href="#" class="inline-flex items-center text-blue-600 font-medium hover:text-blue-800 transition-colors">
                    Read full story
                    <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Stories Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {stories.filter(story => story.category === 'regular').map((story) => (
          <div class={`animate-fade-in-up delay-${story.delay}`}>
            <div class="relative group h-full">
              <div class="absolute inset-0 bg-blue-600 rounded-xl shadow-lg transform group-hover:-rotate-2 transition-all duration-300"></div>
              
              <div class="relative bg-white rounded-xl shadow-md overflow-hidden transform group-hover:-translate-y-2 transition-all duration-300 h-full flex flex-col">
                <div class="h-48 overflow-hidden bg-gray-200 flex items-center justify-center">
                  <span class="text-gray-500">Story Image</span>
                </div>
                <div class="p-6 flex-grow">
                  <h3 class="text-xl font-bold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors">
                    {story.title}
                  </h3>
                  <div class="flex items-center text-gray-600 text-sm mb-3">
                    <span>{story.author}</span>
                    <span class="mx-2">â€¢</span>
                    <span>{new Date(story.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span>
                  </div>
                  <p class="text-gray-700 mb-4 line-clamp-3">{story.excerpt}</p>
                </div>
                <div class="px-6 pb-6">
                  <a href="#" class="text-blue-600 text-sm font-medium hover:underline inline-flex items-center">
                    Read more
                    <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Newsletter CTA -->
      <div class="text-center mt-16 animate-fade-in-up delay-300">
        <div class="inline-block bg-white rounded-xl shadow-lg p-8 max-w-2xl">
          <h3 class="text-2xl font-semibold text-gray-800 mb-3">
            Want more stories?
          </h3>
          <p class="text-gray-600 mb-6">
            Subscribe to get updates on new stories and community highlights.
          </p>
          <form class="flex flex-col sm:flex-row gap-3 justify-center">
            <input 
              type="email" 
              placeholder="Your email" 
              class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
              required
            />
            <button 
              type="submit" 
              class="bg-blue-600 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-700 transition hover:scale-105 animate-pulse-slow"
            >
              Subscribe
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <style is:global>
    /* Animation Keyframes */
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes techSpin {
      0% { transform: rotate(0deg) scale(1); }
      50% { transform: rotate(180deg) scale(1.1); }
      100% { transform: rotate(360deg) scale(1); }
    }
    
    @keyframes pulseSlow {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    /* Animation Classes */
    .animate-fade-in-up {
      animation: fadeInUp 0.8s ease-out forwards;
    }
    
    .delay-0 { animation-delay: 0s; }
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
    
    .animate-tech-spin {
      display: inline-block;
      animation: techSpin 4s linear infinite;
    }
    
    .animate-pulse-slow {
      animation: pulseSlow 3s ease-in-out infinite;
    }
    
    /* Utility Classes */
    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  </style>
</BaseLayout>